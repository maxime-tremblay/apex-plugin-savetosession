set define off verify off feedback off
whenever sqlerror exit sql.sqlcode rollback
--------------------------------------------------------------------------------
--
-- ORACLE Application Express (APEX) export file
--
-- You should run the script connected to SQL*Plus as the Oracle user
-- APEX_050000 or as the owner (parsing schema) of the application.
--
-- NOTE: Calls to apex_application_install override the defaults below.
--
--------------------------------------------------------------------------------
begin
wwv_flow_api.import_begin (
 p_version_yyyy_mm_dd=>'2013.01.01'
,p_release=>'5.0.4.00.12'
,p_default_workspace_id=>1690546620316949
,p_default_application_id=>101
,p_default_owner=>'ASKMAX'
);
end;
/
prompt --application/ui_types
begin
null;
end;
/
prompt --application/shared_components/plugins/dynamic_action/solutions_askmax_save_to_session
begin
wwv_flow_api.create_plugin(
 p_id=>wwv_flow_api.id(10688331460921467)
,p_plugin_type=>'DYNAMIC ACTION'
,p_name=>'SOLUTIONS.ASKMAX.SAVE_TO_SESSION'
,p_display_name=>'askMax - Save to Session State'
,p_category=>'EXECUTE'
,p_supported_ui_types=>'DESKTOP'
,p_javascript_file_urls=>'#PLUGIN_FILES#js/apexSaveToSession#MIN#.js'
,p_plsql_code=>wwv_flow_utilities.join(wwv_flow_t_varchar2(
'function render(p_dynamic_action in apex_plugin.t_dynamic_action,',
'                p_plugin         in apex_plugin.t_plugin) return apex_plugin.t_dynamic_action_render_result',
'as',
'    l_result     apex_plugin.t_dynamic_action_render_result;',
'    ',
'    --attributes',
'    l_attribute1 p_dynamic_action.attribute_01%type := p_dynamic_action.attribute_01;',
'    ',
'    l_js_attributes clob;',
'begin',
'    --debug',
'    if apex_application.g_debug then',
'        apex_plugin_util.debug_dynamic_action(p_plugin         => p_plugin,',
'                                              p_dynamic_action => p_dynamic_action);',
'    end if;',
'',
'    apex_json.initialize_clob_output;',
'    ',
'    apex_json.open_object;',
'    apex_json.write(''itemsToSubmit'',  l_attribute1);',
'    apex_json.write(''ajaxIdentifier'', apex_plugin.get_ajax_identifier);',
'    apex_json.close_object;',
'    ',
'    l_js_attributes := apex_json.get_clob_output;',
'    apex_json.free_output;',
'    ',
'    l_result.javascript_function := ''apexSaveToSession.saveToSession'';',
'    l_result.attribute_01 := l_js_attributes;',
'',
'    return l_result;',
'end render;',
'',
'function ajax(p_dynamic_action in apex_plugin.t_dynamic_action,',
'              p_plugin         in apex_plugin.t_plugin) return apex_plugin.t_dynamic_action_ajax_result',
'as',
'    l_result apex_plugin.t_dynamic_action_ajax_result;',
'begin',
'    --debug',
'    if apex_application.g_debug then',
'        apex_plugin_util.debug_dynamic_action(p_plugin         => p_plugin,',
'                                              p_dynamic_action => p_dynamic_action);',
'    end if;',
'    ',
'    apex_json.open_object;',
'    apex_json.write(''success'', true);',
'    apex_json.close_object;',
'',
'    return l_result;',
'end ajax;'))
,p_render_function=>'render'
,p_ajax_function=>'ajax'
,p_standard_attributes=>'WAIT_FOR_RESULT'
,p_substitute_attributes=>true
,p_subscribe_plugin_settings=>true
,p_help_text=>'Simple plug-in that allows you to save one or more item values in the session state.'
,p_version_identifier=>'1.0'
,p_files_version=>11
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(10691934422955170)
,p_plugin_id=>wwv_flow_api.id(10688331460921467)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>1
,p_display_sequence=>10
,p_prompt=>'Item(s) to Submit'
,p_attribute_type=>'PAGE ITEMS'
,p_is_required=>true
,p_is_translatable=>false
,p_help_text=>'Enter application items to be set into session state. For multiple items, separate each item name with a comma. You can type in the name or pick from the list of available items. If you pick from the list and there is already text entered, then a com'
||'ma is placed at the end of the existing text, followed by the item name returned from the list.'
);
end;
/
begin
wwv_flow_api.g_varchar2_table := wwv_flow_api.empty_varchar2_table;
wwv_flow_api.g_varchar2_table(1) := '2F2F204150455820506C75672D496E3A205361766520746F2053657373696F6E2053746174650D0A2F2F20417574686F723A204D6178696D65205472656D626C61790D0A2F2F2056657273696F6E3A20312E300D0A0D0A2F2F20676C6F62616C206E616D';
wwv_flow_api.g_varchar2_table(2) := '6573706163650D0A766172206170657853617665546F53657373696F6E203D207B0D0A202020202F2F207361766520746F2044422066756E6374696F6E0D0A2020202073617665546F53657373696F6E3A2066756E6374696F6E2829207B0D0A20202020';
wwv_flow_api.g_varchar2_table(3) := '202020202F2F20706C7567696E20617474726962757465730D0A20202020202020206C657420646154686973203D20746869732C0D0A2020202020202020202020206C4F7074696F6E73203D204A534F4E2E7061727365286461546869732E616374696F';
wwv_flow_api.g_varchar2_table(4) := '6E2E6174747269627574653031292C0D0A2020202020202020202020206C526573756D6543616C6C6261636B203D206461546869732E726573756D6543616C6C6261636B3B0D0A0D0A20202020202020206C6574206C416A61784964656E746966696572';
wwv_flow_api.g_varchar2_table(5) := '203D206C4F7074696F6E732E616A61784964656E7469666965722C0D0A2020202020202020202020206C4166666563746564456C656D656E74417272617920203D20617065782E7574696C2E746F4172726179286C4F7074696F6E732E6974656D73546F';
wwv_flow_api.g_varchar2_table(6) := '5375626D69742C20222C2220293B0D0A0D0A2020202020202020617065782E64656275672E747261636528276170657853617665546F53657373696F6E3A2073617665546F53657373696F6E204F7074696F6E7327293B0D0A2020202020202020617065';
wwv_flow_api.g_varchar2_table(7) := '782E64656275672E7472616365286C4F7074696F6E73293B0D0A0D0A20202020202020202F2F205375626D6974206974656D7320746F207365727665722D736964650D0A20202020202020206C657420726573756C74203D20617065782E736572766572';
wwv_flow_api.g_varchar2_table(8) := '2E706C7567696E28206C416A61784964656E7469666965722C207B0D0A202020202020202020202020706167654974656D733A206C4166666563746564456C656D656E7441727261790D0A20202020202020207D20293B0D0A0D0A202020202020202072';
wwv_flow_api.g_varchar2_table(9) := '6573756C742E646F6E65282066756E6374696F6E2820646174612029207B0D0A202020202020202020202020617065782E64656275672E747261636528276170657853617665546F53657373696F6E3A20617065782E7365727665722E706C7567696E20';
wwv_flow_api.g_varchar2_table(10) := '2D2D205375636365737327293B0D0A0D0A2020202020202020202020202F2A20526573756D6520657865637574696F6E206F6620616374696F6E73206865726520616E6420706173732066616C736520746F207468652063616C6C6261636B2C20746F20';
wwv_flow_api.g_varchar2_table(11) := '696E646963617465206E6F0D0A2020202020202020202020202020206572726F7220686173206F636375727265642E202A2F0D0A202020202020202020202020617065782E64612E726573756D6528206C526573756D6543616C6C6261636B2C2066616C';
wwv_flow_api.g_varchar2_table(12) := '736520293B0D0A20202020202020207D20292E6661696C2866756E6374696F6E28206A715848522C20746578745374617475732C206572726F725468726F776E2029207B0D0A2020202020202020202020202F2F206C6F67206572726F7220696E20636F';
wwv_flow_api.g_varchar2_table(13) := '6E736F6C650D0A202020202020202020202020617065782E64656275672E747261636528276170657853617665546F53657373696F6E3A20617065782E7365727665722E706C7567696E204552524F523A272C2074657874537461747573293B0D0A0D0A';
wwv_flow_api.g_varchar2_table(14) := '2020202020202020202020202F2A20526573756D6520657865637574696F6E206F6620616374696F6E7320686572652C206275742070617373207472756520746F207468652063616C6C6261636B2C20746F20696E64696361746520616E206572726F72';
wwv_flow_api.g_varchar2_table(15) := '0D0A2020202020202020202020202020206572726F7220686173206F6363757272656420776974682074686520416A61782063616C6C202A2F0D0A202020202020202020202020617065782E64612E726573756D6528206C526573756D6543616C6C6261';
wwv_flow_api.g_varchar2_table(16) := '636B2C207472756520293B0D0A20202020202020207D20293B0D0A202020207D0D0A7D3B';
null;
end;
/
begin
wwv_flow_api.create_plugin_file(
 p_id=>wwv_flow_api.id(5444170063401680)
,p_plugin_id=>wwv_flow_api.id(10688331460921467)
,p_file_name=>'js/apexSaveToSession.min.js'
,p_mime_type=>'application/javascript'
,p_file_charset=>'utf-8'
,p_file_content=>wwv_flow_api.varchar2_to_blob(wwv_flow_api.g_varchar2_table)
);
end;
/
begin
wwv_flow_api.g_varchar2_table := wwv_flow_api.empty_varchar2_table;
wwv_flow_api.g_varchar2_table(1) := '2F2F204150455820506C75672D496E3A205361766520746F2053657373696F6E2053746174650D0A2F2F20417574686F723A204D6178696D65205472656D626C61790D0A2F2F2056657273696F6E3A20312E300D0A0D0A2F2F20676C6F62616C206E616D';
wwv_flow_api.g_varchar2_table(2) := '6573706163650D0A766172206170657853617665546F53657373696F6E203D207B0D0A202020202F2F207361766520746F2044422066756E6374696F6E0D0A2020202073617665546F53657373696F6E3A2066756E6374696F6E2829207B0D0A20202020';
wwv_flow_api.g_varchar2_table(3) := '202020202F2F20706C7567696E20617474726962757465730D0A20202020202020206C657420646154686973203D20746869732C0D0A2020202020202020202020206C4F7074696F6E73203D204A534F4E2E7061727365286461546869732E616374696F';
wwv_flow_api.g_varchar2_table(4) := '6E2E6174747269627574653031292C0D0A2020202020202020202020206C526573756D6543616C6C6261636B203D206461546869732E726573756D6543616C6C6261636B3B0D0A0D0A20202020202020206C6574206C416A61784964656E746966696572';
wwv_flow_api.g_varchar2_table(5) := '203D206C4F7074696F6E732E616A61784964656E7469666965722C0D0A2020202020202020202020206C4166666563746564456C656D656E74417272617920203D20617065782E7574696C2E746F4172726179286C4F7074696F6E732E6974656D73546F';
wwv_flow_api.g_varchar2_table(6) := '5375626D69742C20222C2220293B0D0A0D0A2020202020202020617065782E64656275672E747261636528276170657853617665546F53657373696F6E3A2073617665546F53657373696F6E204F7074696F6E7327293B0D0A2020202020202020617065';
wwv_flow_api.g_varchar2_table(7) := '782E64656275672E7472616365286C4F7074696F6E73293B0D0A0D0A20202020202020202F2F205375626D6974206974656D7320746F207365727665722D736964650D0A20202020202020206C657420726573756C74203D20617065782E736572766572';
wwv_flow_api.g_varchar2_table(8) := '2E706C7567696E28206C416A61784964656E7469666965722C207B0D0A202020202020202020202020706167654974656D733A206C4166666563746564456C656D656E7441727261790D0A20202020202020207D20293B0D0A0D0A202020202020202072';
wwv_flow_api.g_varchar2_table(9) := '6573756C742E646F6E65282066756E6374696F6E2820646174612029207B0D0A202020202020202020202020617065782E64656275672E747261636528276170657853617665546F53657373696F6E3A20617065782E7365727665722E706C7567696E20';
wwv_flow_api.g_varchar2_table(10) := '2D2D205375636365737327293B0D0A0D0A2020202020202020202020202F2A20526573756D6520657865637574696F6E206F6620616374696F6E73206865726520616E6420706173732066616C736520746F207468652063616C6C6261636B2C20746F20';
wwv_flow_api.g_varchar2_table(11) := '696E646963617465206E6F0D0A2020202020202020202020202020206572726F7220686173206F636375727265642E202A2F0D0A202020202020202020202020617065782E64612E726573756D6528206C526573756D6543616C6C6261636B2C2066616C';
wwv_flow_api.g_varchar2_table(12) := '736520293B0D0A20202020202020207D20292E6661696C2866756E6374696F6E28206A715848522C20746578745374617475732C206572726F725468726F776E2029207B0D0A2020202020202020202020202F2F206C6F67206572726F7220696E20636F';
wwv_flow_api.g_varchar2_table(13) := '6E736F6C650D0A202020202020202020202020617065782E64656275672E747261636528276170657853617665546F53657373696F6E3A20617065782E7365727665722E706C7567696E204552524F523A272C2074657874537461747573293B0D0A0D0A';
wwv_flow_api.g_varchar2_table(14) := '2020202020202020202020202F2A20526573756D6520657865637574696F6E206F6620616374696F6E7320686572652C206275742070617373207472756520746F207468652063616C6C6261636B2C20746F20696E64696361746520616E206572726F72';
wwv_flow_api.g_varchar2_table(15) := '0D0A2020202020202020202020202020206572726F7220686173206F6363757272656420776974682074686520416A61782063616C6C202A2F0D0A202020202020202020202020617065782E64612E726573756D6528206C526573756D6543616C6C6261';
wwv_flow_api.g_varchar2_table(16) := '636B2C207472756520293B0D0A20202020202020207D20293B0D0A202020207D0D0A7D3B';
null;
end;
/
begin
wwv_flow_api.create_plugin_file(
 p_id=>wwv_flow_api.id(10693886161043916)
,p_plugin_id=>wwv_flow_api.id(10688331460921467)
,p_file_name=>'js/apexSaveToSession.js'
,p_mime_type=>'application/javascript'
,p_file_charset=>'utf-8'
,p_file_content=>wwv_flow_api.varchar2_to_blob(wwv_flow_api.g_varchar2_table)
);
end;
/
begin
wwv_flow_api.import_end(p_auto_install_sup_obj => nvl(wwv_flow_application_install.get_auto_install_sup_obj, false), p_is_component_import => true);
commit;
end;
/
set verify on feedback on define on
prompt  ...done
